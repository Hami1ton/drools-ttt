package org.example.drools.ttt;

import javax.swing.JLabel;

rule "ボタン押下時に手番更新"
  when
    GameStatus( isGameOver == false )
    field : Field( isFilled == false, getBtn().getText() == "" )
    statusLabel: JLabel()
    player: CurrentPlayer()
  then
    field.getBtn().setText(player.getMark());
    modify ( field ) { isFilled = true };
    if (player.getMark() == "◯"){
      player.setMark("✕");
    } else {
      player.setMark("◯");
    }
    statusLabel.setText(player.getMark() + " の番です");
end
